(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(t,e,a){},15:function(t,e,a){"use strict";a.r(e);var s=a(0),n=a.n(s),r=a(7),c=a.n(r),i=(a(13),a(1)),o=a(2),d=a(4),l=a(3),u=a(5),p=function(t){function e(){return Object(i.a)(this,e),Object(d.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(o.a)(e,[{key:"render",value:function(){return n.a.createElement("article",{className:"card card--half"},n.a.createElement("dl",{className:"stat stat--overview"},n.a.createElement("dd",{className:"stat__count"},this.props.quantity),n.a.createElement("dt",{className:"stat__description"},this.props.description)))}}]),e}(s.Component),h=function(t){function e(){return Object(i.a)(this,e),Object(d.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(o.a)(e,[{key:"render",value:function(){var t=this.preparePeriodTitle(this.props.period,this.props.isToday);return n.a.createElement("article",{className:"card card--full"},n.a.createElement("dl",{className:"stat stat--period stat--".concat(this.props.period)},n.a.createElement("dt",{className:"stat__description"},t),n.a.createElement("dd",{className:"stat__count"},"".concat(this.props.users," people")),n.a.createElement("dt",{className:"stat__description"},"Purchases total"),n.a.createElement("dd",{className:"stat__count stat__count--secondary"},this.props.purchases)))}},{key:"preparePeriodTitle",value:function(t,e){switch(t){case"day":return e?"Today":"That day";case"month":case"week":return e?"This "+t:"That "+t;case"tilltoday":return"That day till today";default:return"No period"}}}]),e}(s.Component),m=function(t){function e(){return Object(i.a)(this,e),Object(d.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(o.a)(e,[{key:"render",value:function(){var t=this;return n.a.createElement("section",{className:"section"},n.a.createElement("h2",{className:"section__header"},this.props.title),n.a.createElement("div",{className:"section__deck"},Object.keys(this.props.data).map(function(e){return"activity"===t.props.type?n.a.createElement(p,{key:"".concat(t.props.title,"-").concat(e),quantity:t.props.data[e],description:e}):n.a.createElement(h,{key:"".concat(t.props.title,"-").concat(e),period:e,users:t.props.data[e].users,purchases:t.props.data[e].purchases,isToday:t.props.isToday})})))}}]),e}(s.Component),y=function(t){function e(t){var a;return Object(i.a)(this,e),(a=Object(d.a)(this,Object(l.a)(e).call(this,t))).state={isLoading:!0,data:{}},a}return Object(u.a)(e,t),Object(o.a)(e,[{key:"update",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;this.setState({isLoading:!0}),fetch("/api/stats".concat(e?"?date="+e:"")).then(function(t){return t.json()}).then(function(e){t.setState({isLoading:!1,data:e.data})})}},{key:"componentDidMount",value:function(){this.update()}},{key:"onDateChange",value:function(t){this.update(t.target.value)}},{key:"render",value:function(){return this.state.isLoading?n.a.createElement("p",{className:"loading"},"Loading..."):n.a.createElement("div",{className:"root"},n.a.createElement("header",{className:"header"},n.a.createElement("input",{type:"date",className:"header__text",defaultValue:this.state.data.dates.current,min:this.state.data.dates.min,max:this.state.data.dates.max,onBlur:this.onDateChange.bind(this)})),n.a.createElement("main",null,n.a.createElement(m,{title:"Users",type:"activity",data:this.state.data.activities,isToday:this.state.data.dates.today===this.state.data.dates.current}),n.a.createElement(m,{title:"Purchases",type:"stat",data:this.state.data.stats,isToday:this.state.data.dates.today===this.state.data.dates.current})))}}]),e}(s.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(n.a.createElement(y,null),document.getElementById("app")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})},8:function(t,e,a){t.exports=a(15)}},[[8,2,1]]]);
//# sourceMappingURL=main.f33218e8.chunk.js.map